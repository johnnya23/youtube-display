function jmayt_title_resize(){jQuery(".jmayt-list-wrap").each(function(){$list_wrap=jQuery(this);var a=Math.max.apply(null,$list_wrap.find("h3").map(function(){return jQuery(this).outerHeight()}).get());$list_wrap.find(".jmayt-text-wrap").css("min-height",a+"px")})}function jmayt_toggle(){jQuery(".jmayt-item").each(function(){$this=jQuery(this);$this.find(".jmayt-video-wrap").on("click",function(){if(jQuery(this).hasClass("jmayt-fixed")){jmayt_handle_lightbox(jQuery(this))}}).children().on("click",function(a){return false});$this.find(".jmayt-btn").on("click",function(){jmayt_handle_lightbox(jQuery(this))})})}function jmayt_handle_lightbox(a){if(!a.is("button")){a=a.find(".jmayt-btn")}$jmayt_item=a.closest(".jmayt-item");jmayt_item_width=$jmayt_item.innerWidth();$jmayt_video_wrap=$jmayt_item.find(".jmayt-video-wrap");$z_index=$jmayt_video_wrap.parents(".jmayt-outer").parents().add($jmayt_video_wrap);$video_win=$jmayt_item.find(".jma-responsive-wrap");if(!$jmayt_video_wrap.hasClass("jmayt-fixed")){$scroll=jQuery(document).scrollTop();$jmayt_item.css("min-height",$jmayt_item.height()+"px");a.html("&#xe097;");$z_index.css({"z-index":"2147483647",overflow:"visible"});jQuery("body").css({"overflow-y":"hidden"});$jmayt_video_wrap.addClass("jmayt-fixed");$pos=$jmayt_item.offset();$pos_top=$pos.top;$pos_left=$pos.left;$jmayt_video_wrap.css({width:(jmayt_item_width)+"px",height:(jmayt_item_width)/1.7778+"px","padding-bottom":0}).animate({top:-($pos_top-$scroll)+"px",left:-$pos_left+"px",width:jQuery(window).width()+"px",height:window.innerHeight+"px"});$ratio=9/16;$window=jQuery(window);if(($window.height()/$window.width())<$ratio){$video_win.css({width:((($window.height()/$window.width())/$ratio)*100)+"%","padding-bottom":(($window.height()/$window.width())*100)+"%"})}}else{a.html("&#xe140;");$jmayt_video_wrap.animate({top:0,left:0,width:(jmayt_item_width)+"px",height:(jmayt_item_width)/1.7778+"px"},300,"swing",function(){$jmayt_video_wrap.removeClass("jmayt-fixed");$jmayt_video_wrap.css({top:"",left:"",height:"",width:"","padding-bottom":""});$z_index.css({"z-index":"",overflow:""});$video_win.css({width:"","padding-bottom":""})});jQuery("body").css({"overflow-y":""})}}function hold_fixed(){jQuery(".jmayt-fixed").each(function(){$jmayt_video_wrap_el=jQuery(this);$scroll=jQuery(document).scrollTop();$jmayt_item=$jmayt_video_wrap_el.closest(".jmayt-item");$pos=$jmayt_item.offset();$pos_top=$pos.top;$pos_left=$pos.left;$jmayt_video_wrap_el.css({top:-($pos_top-$scroll)+"px",left:-$pos_left+"px",width:jQuery(window).width()+"px",height:window.innerHeight+"px"});$ratio=9/16;$video_win=$jmayt_video_wrap_el.find(".jma-responsive-wrap");$window=jQuery(window);if(($window.height()/$window.width())<$ratio){$video_win.css({width:((($window.height()/$window.width())/$ratio)*100)+"%","padding-bottom":(($window.height()/$window.width())*100)+"%"})}})}var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var checkYT=setInterval(function(){if(typeof YT!=="undefined"){jmayt_setup_onscreen();clearInterval(checkYT)}},100);function JmaytUtils(){}JmaytUtils.prototype={constructor:JmaytUtils,isElementInView:function(c,d){var b=jQuery(window).scrollTop();var f=b+jQuery(window).height();var a=jQuery(c).offset().top;var e=a+jQuery(c).height();if(d===true){return((b<a)&&(f>e))}else{return((a<=f)&&(e>=b))}}};var JmaytUtils=new JmaytUtils();function jmayt_setup_onscreen(){jQuery(".jmayt-overlay-button").each(function(){$overlayButton=jQuery(this);if(JmaytUtils.isElementInView($overlayButton,false)&&!$overlayButton.next().is("iframe")){jmayt_setup_video($overlayButton)}})}function jmayt_setup_video(a){$button_id=a.data("embedid");$start=a.data("start");if(typeof YT!=="undefined"){window.YT.ready(function(){$player=new YT.Player("video"+$button_id,{videoId:$button_id,playerVars:{rel:0,origin:document.domain,enablejsapi:1,start:$start},events:{onReady:jmayt_onPlayerReady}})})}}function jmayt_onPlayerReady(b){data=b.target.getVideoData();var a=jQuery("#video"+data.video_id).parents(".jma-responsive-wrap").find(".jmayt-overlay-button");a.addClass("jmayt-ready");a.bind("click",function(){jQuery(this).css("display","none");b.target.playVideo()})}jQuery(window).on("scroll",function(){hold_fixed();jmayt_setup_onscreen();if(jQuery("body").hasClass("wp-admin")){jmayt_title_resize()}});jQuery(document).ready(function(){jmayt_title_resize();jQuery(window).on("load",function(){jmayt_toggle();if(jQuery("body").hasClass("wp-admin")){jmayt_title_resize()}});jQuery(window).on("resize",function(){hold_fixed();jmayt_title_resize()})});